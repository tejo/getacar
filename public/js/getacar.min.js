(function(){var e,t,n,r=function(e,t){return function(){return e.apply(t,arguments)}};t={hasClass:function(e,t){return(new RegExp(" "+t+" ")).test(" "+e.className+" ")},addClass:function(e,n){if(!t.hasClass(e,n))return e.className+=" "+n},removeClass:function(e,n){var r;r=" "+e.className.replace(/[\t\r\n]/g," ")+" ";if(t.hasClass(e,n)){while(r.indexOf(" "+n+" ")>=0)r=r.replace(" "+n+" "," ");return e.className=r.replace(/^\s+|\s+$/g,"")}}};n={start:function(){var t;return t=new e}};e=function(){function e(){this.toggleOverlay=r(this.toggleOverlay,this);this.container=document.querySelector("div.container");this.triggerBttn=document.getElementById("trigger-overlay");this.overlay=document.querySelector("div.overlay");this.closeBttn=this.overlay.querySelector("button.overlay-close");this.transEndEventNames={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd",msTransition:"MSTransitionEnd",transition:"transitionend"};this.transEndEventName=this.transEndEventNames[Modernizr.prefixed("transition")];this.support={transitions:Modernizr.csstransitions};this.triggerBttn.addEventListener("click",this.toggleOverlay);this.closeBttn.addEventListener("click",this.toggleOverlay)}e.prototype.toggleOverlay=function(e){var n,r,i=this;e.preventDefault();r=this;if(t.hasClass(this.overlay,"open")){t.removeClass(this.overlay,"open");t.removeClass(this.container,"overlay-open");t.addClass(this.overlay,"close");n=function(e){if(i.support.transitions){if(e.propertyName!=="visibility")return;i.overlay.removeEventListener(i.transEndEventName,n)}t.removeClass(i.overlay,"close")};this.support.transitions?this.overlay.addEventListener(this.transEndEventName,n):n()}else if(!t.hasClass(this.overlay,"close")){t.addClass(this.overlay,"open");t.addClass(this.container,"overlay-open")}};return e}();$(function(){return n.start()})}).call(this);