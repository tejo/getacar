var addToHome=function(e){function w(){if(!n)return;var a=Date.now(),f;if(e.addToHomeConfig){for(f in e.addToHomeConfig){y[f]=e.addToHomeConfig[f]}}if(!y.autostart)y.hookOnLoad=false;r=/ipad/gi.test(t.platform);i=e.devicePixelRatio&&e.devicePixelRatio>1;s=/Safari/i.test(t.appVersion)&&!/CriOS/i.test(t.appVersion);o=t.standalone;u=t.appVersion.match(/OS (\d+_\d+)/i);u=u&&u[1]?+u[1].replace("_","."):0;l=+e.localStorage.getItem("addToHome");h=e.sessionStorage.getItem("addToHomeSession");p=y.returningVisitor?l&&l+28*24*60*60*1e3>a:true;if(!l)l=a;c=p&&l<=a;if(y.hookOnLoad)e.addEventListener("load",E,false);else if(!y.hookOnLoad&&y.autostart)E()}function E(){e.removeEventListener("load",E,false);if(!p)e.localStorage.setItem("addToHome",Date.now());else if(y.expire&&c)e.localStorage.setItem("addToHome",Date.now()+y.expire*6e4);if(!v&&(!s||!c||h||o||!p))return;var n="",a=t.platform.split(" ")[0],f=t.language.replace("-","_");d=document.createElement("div");d.id="addToHomeScreen";d.style.cssText+="left:-9999px;-webkit-transition-property:-webkit-transform,opacity;-webkit-transition-duration:0;-webkit-transform:translate3d(0,0,0);position:"+(u<5?"absolute":"fixed");if(y.message in b){f=y.message;y.message=""}if(y.message===""){y.message=f in b?b[f]:b["it_it"]}if(y.touchIcon){n=i?document.querySelector('head link[rel^=apple-touch-icon][sizes="114x114"],head link[rel^=apple-touch-icon][sizes="144x144"],head link[rel^=apple-touch-icon]'):document.querySelector('head link[rel^=apple-touch-icon][sizes="57x57"],head link[rel^=apple-touch-icon]');if(n){n='<span style="background-image:url('+n.href+')" class="addToHomeTouchIcon"></span>'}}d.className=(u>=7?"addToHomeIOS7 ":"")+(r?"addToHomeIpad":"addToHomeIphone")+(n?" addToHomeWide":"");d.innerHTML=n+y.message.replace("%device",a).replace("%icon",u>=4.2?'<span class="addToHomeShare"></span>':'<span class="addToHomePlus">+</span>')+(y.arrow?'<span class="addToHomeArrow"'+(u>=7&&r&&n?' style="margin-left:-32px"':"")+"></span>":"")+(y.closeButton?'<span class="addToHomeClose">×</span>':"");document.body.appendChild(d);if(y.closeButton)d.addEventListener("click",N,false);if(!r&&u>=6)window.addEventListener("orientationchange",A,false);setTimeout(S,y.startDelay)}function S(){var t,n=208;if(r){if(u<5){f=e.scrollY;a=e.scrollX}else if(u<6){n=160}else if(u>=7){n=143}d.style.top=f+y.bottomOffset+"px";d.style.left=Math.max(a+n-Math.round(d.offsetWidth/2),9)+"px";switch(y.animationIn){case"drop":t="0.6s";d.style.webkitTransform="translate3d(0,"+ -(e.scrollY+y.bottomOffset+d.offsetHeight)+"px,0)";break;case"bubble":t="0.6s";d.style.opacity="0";d.style.webkitTransform="translate3d(0,"+(f+50)+"px,0)";break;default:t="1s";d.style.opacity="0"}}else{f=e.innerHeight+e.scrollY;if(u<5){a=Math.round((e.innerWidth-d.offsetWidth)/2)+e.scrollX;d.style.left=a+"px";d.style.top=f-d.offsetHeight-y.bottomOffset+"px"}else{d.style.left="50%";d.style.marginLeft=-Math.round(d.offsetWidth/2)-(e.orientation%180&&u>=6&&u<7?40:0)+"px";d.style.bottom=y.bottomOffset+"px"}switch(y.animationIn){case"drop":t="1s";d.style.webkitTransform="translate3d(0,"+ -(f+y.bottomOffset)+"px,0)";break;case"bubble":t="0.6s";d.style.webkitTransform="translate3d(0,"+(d.offsetHeight+y.bottomOffset+50)+"px,0)";break;default:t="1s";d.style.opacity="0"}}d.offsetHeight;d.style.webkitTransitionDuration=t;d.style.opacity="1";d.style.webkitTransform="translate3d(0,0,0)";d.addEventListener("webkitTransitionEnd",C,false);g=setTimeout(T,y.lifespan)}function x(e){if(!n||d)return;v=e;E()}function T(){clearInterval(m);clearTimeout(g);g=null;if(!d)return;var t=0,n=0,i="1",s="0";if(y.closeButton)d.removeEventListener("click",N,false);if(!r&&u>=6)window.removeEventListener("orientationchange",A,false);if(u<5){t=r?e.scrollY-f:e.scrollY+e.innerHeight-f;n=r?e.scrollX-a:e.scrollX+Math.round((e.innerWidth-d.offsetWidth)/2)-a}d.style.webkitTransitionProperty="-webkit-transform,opacity";switch(y.animationOut){case"drop":if(r){s="0.4s";i="0";t+=50}else{s="0.6s";t+=d.offsetHeight+y.bottomOffset+50}break;case"bubble":if(r){s="0.8s";t-=d.offsetHeight+y.bottomOffset+50}else{s="0.4s";i="0";t-=50}break;default:s="0.8s";i="0"}d.addEventListener("webkitTransitionEnd",C,false);d.style.opacity=i;d.style.webkitTransitionDuration=s;d.style.webkitTransform="translate3d("+n+"px,"+t+"px,0)"}function N(){T();e.sessionStorage.setItem("addToHomeSession","1");h=true}function C(){d.removeEventListener("webkitTransitionEnd",C,false);d.style.webkitTransitionProperty="-webkit-transform";d.style.webkitTransitionDuration="0.2s";if(!g){d.parentNode.removeChild(d);d=null;return}if(u<5&&g)m=setInterval(k,y.iterations)}function k(){var t=new WebKitCSSMatrix(e.getComputedStyle(d,null).webkitTransform),n=r?e.scrollY-f:e.scrollY+e.innerHeight-f,i=r?e.scrollX-a:e.scrollX+Math.round((e.innerWidth-d.offsetWidth)/2)-a;if(n==t.m42&&i==t.m41)return;d.style.webkitTransform="translate3d("+i+"px,"+n+"px,0)"}function L(){e.localStorage.removeItem("addToHome");e.sessionStorage.removeItem("addToHomeSession")}function A(){d.style.marginLeft=-Math.round(d.offsetWidth/2)-(e.orientation%180&&u>=6&&u<7?40:0)+"px"}var t=e.navigator,n="platform"in t&&/iphone|ipod|ipad/gi.test(t.platform),r,i,s,o,u,a=0,f=0,l=0,c,h,p,d,v,m,g,y={autostart:true,returningVisitor:true,animationIn:"bubble",animationOut:"fade",startDelay:2e3,lifespan:8e3,bottomOffset:14,expire:0,message:"",touchIcon:false,arrow:true,hookOnLoad:true,closeButton:true,iterations:100},b={de_de:"Installieren Sie diese App auf Ihrem %device: %icon antippen und dann <strong>Zum Home-Bildschirm</strong>.",en_us:"Install this web app on your %device: tap %icon and then <strong>Add to Home Screen</strong>.",es_es:"Para instalar esta app en su %device, pulse %icon y seleccione <strong>AÃ±adir a pantalla de inicio</strong>.",fr_fr:"Ajoutez cette application sur votre %device en cliquant sur %icon, puis <strong>Ajouter Ã  l'Ã©cran d'accueil</strong>.",it_it:"Installa questa applicazione sul tuo %device: premi su %icon e poi <strong>Aggiungi a Home</strong>."};w();return{show:x,close:T,reset:L}}(window);